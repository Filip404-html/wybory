<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wyniki Głosowania</title>
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js" defer></script>
</head>
<body>
    <h2>Wyniki Głosowania</h2>
    
    <div id="results">
        <div class="result-bar-container">
            <div id="trump-bar" class="result-bar" style="background-color: red;">
                <span id="trump-label"></span>
            </div>
        </div>
        <div class="result-bar-container">
            <div id="kamala-bar" class="result-bar" style="background-color: blue;">
                <span id="kamala-label"></span>
            </div>
        </div>
        <div class="result-text">
            <p class="result-percentage" id="trump-percentage"></p>
            <p class="result-percentage" id="kamala-percentage"></p>
        </div>
    </div>

    <script>
        window.onload = function() {
            displayResults();
        };
        
        function displayResults() {
            const votes = JSON.parse(localStorage.getItem("votes")) || { Trump: 0, Kamala: 0 };
            const totalVotes = votes.Trump + votes.Kamala;

            const trumpPercentage = (votes.Trump / totalVotes) * 100 || 0;
            const kamalaPercentage = (votes.Kamala / totalVotes) * 100 || 0;

            const trumpBar = document.getElementById("trump-bar");
            const kamalaBar = document.getElementById("kamala-bar");
            const trumpLabel = document.getElementById("trump-label");
            const kamalaLabel = document.getElementById("kamala-label");

            trumpBar.style.width = `${trumpPercentage}%`;
            kamalaBar.style.width = `${kamalaPercentage}%`;

            trumpLabel.textContent = `Trump - ${votes.Trump} głosów`;
            kamalaLabel.textContent = `Kamala - ${votes.Kamala} głosów`;

            document.getElementById("trump-percentage").textContent = `Trump: ${trumpPercentage.toFixed(2)}%`;
            document.getElementById("kamala-percentage").textContent = `Kamala: ${kamalaPercentage.toFixed(2)}%`;
        }
    </script>
</body>
</html>